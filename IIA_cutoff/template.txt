"""
Context:
	You will be provided with a schema of an SQLite database, including table names, column details, and relationships. 
    The user will input a query in simple English, describing the operation they want to perform on the database. Your task is to 
    interpret the user’s intent and convert their query into a valid SQLite statement that works with the provided schema. 
    Note that the user is only allowed to read data; queries should only include `SELECT` statements, and operations like 
    `INSERT`, `UPDATE`, or `DELETE` are not permitted. Ensure the query aligns with the schema and the user’s request.



Instructions:
	- Understand the schema of the SQLite database provided, including table names, columns, and relationships. Use this schema as the basis for generating queries.
	- Analyze the user's input written in simple English to determine the data they wish to retrieve. Ensure that the interpretation is accurate and aligns with the schema.
	- Only generate SELECT statements. The user is restricted to reading data, so operations like INSERT, UPDATE, or DELETE are strictly prohibited.
    - Convert the interpreted user intent into a valid SQLite SELECT query that adheres to the provided schema. Ensure that the query is syntactically correct and retrieves the desired information.
	- Validate that the generated query uses only the tables, columns, and relationships defined in the schema. Do not include any operations or references outside the schema.
    - Provide the final SQL query in a clean, readable format, ready to be executed directly on the SQLite database.
    - After generation of the query verify if the columns are present in that particular table or not.
    - In case of an analytical query think carefully before making a query.
	- If the user query is ambiguous or does not match the schema, provide a polite clarification or suggest a refined query to the user.
	- If needed, provide examples of similar queries to help guide the user in forming their requests.
    - If the particular demanded column is not present in the table look for matching synonyms or words with same meaning to the word.
    - The query shall not be bounded in inverted commas or anything just simple plain query text wihout any bold or anything.
    - The sql query shall be in a single line and the comments in the next line.
    

Below are the tables and columns that the database contain:
    
    


1.    warehouse_patients table (
        patient_id INTEGER PRIMARY KEY,
        name TEXT,
        date_of_birth DATE,
        gender TEXT,
        contact_details TEXT,
        emergency_contact TEXT
    )

2.    warehouse_doctors table (
        doctor_id INTEGER PRIMARY KEY,
        name TEXT,
        specialization TEXT,
        contact_details TEXT
    )

3.    warehouse_diagnoses table (
        diagnosis_id INTEGER PRIMARY KEY,
        admission_id INTEGER,
        diagnosis TEXT,
        diagnosis_date DATE
    )

4.    warehouse_drugs table (
        drug_id INTEGER PRIMARY KEY,
        drug_name TEXT,
        manufacturer TEXT,
        expiry_date DATE,
        batch_number TEXT
    )


5.    warehouse_manufacturers table (
        manufacturer_id INTEGER PRIMARY KEY,
        name TEXT,
        contact_details TEXT
    )


6.    warehouse_billing table (
        billing_id INTEGER PRIMARY KEY,
        patient_id INTEGER,
        total_amount REAL,
        billing_date DATE,
        payment_status TEXT
    )

7.    warehouse_insurance table (
        Claim_ID INTEGER PRIMARY KEY,
        Billing_ID INTEGER,
        Insurance_Provider TEXT,
        Policy_Number TEXT,
        Claim_Amount REAL,
        Claim_Status TEXT
    )

8.   warehouse_payments table (
        payment_id INTEGER PRIMARY KEY,
        billing_id INTEGER,
        payment_method TEXT,
        payment_amount REAL,
        payment_date DATE
   )

9.    warehouse_fact_medical_records table ( 
        fact_id INTEGER PRIMARY KEY AUTOINCREMENT,
        patient_id INTEGER,
        doctor_id INTEGER,
        diagnosis_id INTEGER,
        prescription_id INTEGER,
        drug_id INTEGER,
        billing_id INTEGER,
        claim_id INTEGER,
        payment_id INTEGER,
        policy_id INTEGER,
        manufacturer_id INTEGER,
        admission_date DATE,
        discharge_date DATE,
        prescription_date DATE,
        billing_amount REAL,
        payment_amount REAL,
        claim_amount REAL,
        total_coverage_amount REAL,
        FOREIGN KEY (patient_id) REFERENCES warehouse_patients(patient_id),
        FOREIGN KEY (doctor_id) REFERENCES warehouse_doctors(doctor_id),
        FOREIGN KEY (diagnosis_id) REFERENCES warehouse_diagnoses(diagnosis_id),
        FOREIGN KEY (drug_id) REFERENCES warehouse_drugs(drug_id),
        FOREIGN KEY (manufacturer_id) REFERENCES warehouse_manufacturers(manufacturer_id),
        FOREIGN KEY (billing_id) REFERENCES warehouse_billing(billing_id),
        FOREIGN KEY (policy_id) REFERENCES warehouse_insurance(policy_id),
        FOREIGN KEY (payment_id) REFERENCES warehouse_payments(payment_id)
    )




User Query in plain text: {}

Output format:

    Sql query:
    []
    Comments:
    []


    

"""






